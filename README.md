# Лабораторная работа #3

## Fault Tolerance

### Формулировка

На базе Лабораторной работы #2 реализовать механизмы, увеличивающие
отказоустойчивость системы.

### Требования

1. На Gateway Service для _всех операций_ чтения реализовн паттерн Circuit Breaker, который накапливает статистику в памяти, и
   если система не ответила N раз, то в N + 1 раз вместо запроса сразу отдает fallback. Через небольшой timeout
   выполняется запрос к реальной системе, чтобы проверить ее состояние.
2. На каждом сервисе реализов специальный endpoint `GET /manage/health`, отдающий 200 ОК (Было сделано в Лаб #2)
3. В случае недоступности данных из некритичного источника (не основного), возвращается fallback-ответ (пустой ответ / словарь)
4. В задании (v2) описаны две операции, изменяющие состояния нескольких систем. В случае недоступности одной из систем,
   участвующих в этой операции, выполняется:
    1. откат всей операции (`POST /api/v1/reservations`);
    2. возвращение пользователю ответ об успешном завершении операции, а на Gateway Service поставить этот запрос в
       очередь для повторного выполнения (`DELETE /api/v1/reservations/{reservationUid}`).
5. Для автоматических прогонов тестов в файле [autograding.json](.github/classroom/autograding.json)
   и [classroom.yml](.github/workflows/classroom.yml) заменен `<variant>` на `v2`.
6. В [docker-compose.yml](docker-compose.yml) прописана сборка и запуск docker контейнеров.
7. Код хранится на Github, для сборки используется Github Actions.
8. Каждый сервис завернут в docker.
